<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Pharma</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; background: #f4f7f6; margin: 0; padding: 15px; }
        
        #view-catalog {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            max-width: 900px;
            margin: 0 auto;
        }

        .card {
            background: white;
            padding: 12px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card img { width: 100%; height: 160px; object-fit: cover; border-radius: 8px; }
        .card h3 { font-size: 0.9rem; margin: 10px 0 5px; color: #333; text-transform: uppercase; min-height: 35px; }
        .card .price-range { font-size: 0.8rem; color: #666; font-weight: bold; margin-bottom: 10px; }

        .btn-black {
            background: #000;
            color: #fff;
            border: none;
            padding: 10px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8rem;
        }

        #view-detail {
            display: none; 
            background: white;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        #detail-img { width: 100%; height: 280px; object-fit: contain; border-radius: 10px; margin-bottom: 15px; }
        .back-link { color: #3498db; cursor: pointer; display: block; margin-bottom: 15px; font-weight: bold; text-align: left; }
        .desc-box { font-size: 0.9rem; color: #555; background: #f9f9f9; padding: 15px; border-radius: 10px; margin: 15px 0; line-height: 1.5; text-align: left;}
        
        .price-big { font-size: 2rem; color: #27ae60; font-weight: bold; margin: 20px 0; }
        label { display: block; margin-top: 15px; font-weight: bold; font-size: 0.85rem; text-align: left; color: #333; }
        select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd; margin-top: 5px; background: #fff; font-size: 1rem; }

        @media (max-width: 500px) {
            #view-catalog { grid-template-columns: 1fr 1fr; gap: 10px; }
            .card img { height: 130px; }
        }
    </style>
</head>
<body>

    <div id="view-catalog"></div>

    <div id="view-detail">
        <span class="back-link" onclick="closeProduct()">← Retour au catalogue</span>
        <img id="detail-img" src="">
        <h2 id="detail-title"></h2>
        <div class="desc-box" id="detail-desc"></div>

        <div id="options-area">
            <div id="dose-wrapper">
                <label id="dose-label">Dosage / Souche :</label>
                <select id="sel-dose" onchange="updateQty()"></select>
            </div>

            <label>Quantité :</label>
            <select id="sel-qty" disabled onchange="updatePrice()"></select>
        </div>

        <div id="price-area" style="display:none">
            <div class="price-big"><span id="final-p">0,00</span>€</div>
            <button class="btn-black" style="background:#27ae60; width:100%; font-size:1.1rem; padding:15px; border-radius:10px;">AJOUTER AU PANIER</button>
        </div>
    </div>

    <script>
        // Fonction pour formater les prix en 00,00
        function formatPrice(num) {
            return num.toFixed(2).replace('.', ',');
        }

        const productsDB = {
            "shrooms": {
                name: "Shrooms Magic",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/Mushrooms-500x500_exq0wt",
                range: "100,00€ - 410,00€",
                desc: "Variétés de psilocybine bio de qualité supérieure comme Golden teacher, penis envy et blue meanies.",
                prices: {
                    "Golden teacher": { "10g": 100, "14g(½ OZ)": 125, "1OZ": 225, "02OZ": 410 },
                    "Penis envy": { "10g": 100, "14g(½ OZ)": 125, "1OZ": 225, "02OZ": 410 },
                    "Blue meanies": { "10g": 100, "14g(½ OZ)": 125, "1OZ": 225, "02OZ": 410 }
                }
            },
            "dilaudid": {
                name: "Dilaudid",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5778433787720483444_109_hraolk",
                range: "100,00€ - 6100,00€",
                desc: "Puissant analgésique opioïde reconnu pour ses propriétés analgésiques efficaces.",
                prices: {
                    "4mg": { "25pills": 100, "60pills": 200, "200pills": 400, "1000pills": 4690 },
                    "8mg": { "25pills": 125, "60pills": 266, "200pills": 700, "1000pills": 6100 }
                }
            },
            "kethamine": {
                name: "Kethamine",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5123297961927879647_121_bdc6qw",
                range: "100,00€ - 700,00€",
                desc: "Effet apaisant et onirique idéal pour se détendre. Vivez une dissociation de bien être absolu.",
                prices: { "Qualité Pure": { "2g": 100, "5g": 400, "10g": 700 } }
            },
            "lsd_classic": {
                name: "LSD",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/2-3_fz4r7u",
                range: "100,00€ - 600,00€",
                desc: "Psychédélique qui modifie l’activité des récepteurs de la sérotonine. Hallucinations intenses.",
                prices: {
                    "150ug": { "10tabs": 100, "20tabs": 185, "1sheets": 400 },
                    "250ug": { "10tabs": 125, "20tabs": 230, "1sheets": 500 },
                    "350ug": { "10tabs": 130, "20tabs": 250, "1sheets": 550 },
                    "450ug": { "10tabs": 140, "20tabs": 260, "1sheets": 600 }
                }
            },
            "dmt_cart": {
                name: "Cartouche de DMT",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5154503802731211768_121_pqphuz",
                range: "165,00€ - 9000,00€",
                desc: "Cartouche de N,N-dimethyltryptamine.",
                prices: { "Option": { "02chariots": 165, "05chariots": 330, "10chariots": 595, "50chariots": 2400, "200chariots": 9000 } }
            },
            "vyvanse": {
                name: "Vyvanse",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5893373439048269441_121_pdhtaf",
                range: "110,00€ - 3550,00€",
                desc: "Améliore l'attention et la concentration pour gérer les symptômes du TDAH.",
                prices: {
                    "20mg": { "20caps": 110, "60caps": 290, "150caps": 550, "500caps": 1500 },
                    "30mg": { "20caps": 135, "60caps": 335, "150caps": 650, "500caps": 2000 },
                    "40mg": { "20caps": 150, "60caps": 389, "150caps": 980, "500caps": 2500 },
                    "50mg": { "20caps": 180, "60caps": 435, "150caps": 800, "500caps": 3000 },
                    "70mg": { "20caps": 210, "60caps": 570, "150caps": 1000, "500caps": 3550 }
                }
            },
            "extasy": {
                name: "Pilules d'ecstasy",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/5044141534273973558_120_cgkx6k",
                range: "100,00€ - 2750,00€",
                desc: "Expérience euphorique et profonde. Chaque dose est testée en laboratoire.",
                prices: { "Qualité Supérieure": { "25pills": 100, "60pills": 200, "200pills": 650, "1000pills": 2750 } }
            },
            "coke_peru": {
                name: "Coke péruvienne 95%",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/5078342135513721963_109_c6tsfi",
                range: "100,00€ - 650,00€",
                desc: "Cocaïne péruvienne d’une grande pureté, expérience douce et puissante.",
                prices: { "Pure 95%": { "1g": 100, "2g": 175, "5g": 390, "10g": 650 } }
            },
            "coke_colom": {
                name: "Coke colombienne 98%",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/image1_arkrku",
                range: "100,00€ - 750,00€",
                desc: "Pureté de la cocaïne colombienne premium. Qualité exceptionnelle.",
                prices: { "Pure 98%": { "1g": 100, "2g": 185, "5g": 400, "10g": 750 } }
            },
            "crack": {
                name: "Cocaïne crack",
                img: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/c1-247x296_l2mufd",
                range: "100,00€ - 750,00€",
                desc: "Le crack procure des effets instantanés et intenses.",
                prices: { "Qualité": { "1g": 100, "2g": 200, "3,5g": 300, "7g": 550, "10g": 750 } }
            }
        };

        const catalog = document.getElementById('view-catalog');
        let currentId = "";

        function renderCatalog() {
            catalog.innerHTML = "";
            for (let id in productsDB) {
                const p = productsDB[id];
                catalog.innerHTML += `
                    <div class="card">
                        <img src="${p.img}">
                        <h3>${p.name}</h3>
                        <p class="price-range">${p.range}</p>
                        <button class="btn-black" onclick="openProduct('${id}')">Sélectionner</button>
                    </div>`;
            }
        }

        function openProduct(id) {
            currentId = id;
            const p = productsDB[id];
            document.getElementById('detail-title').innerText = p.name;
            document.getElementById('detail-img').src = p.img;
            document.getElementById('detail-desc').innerText = p.desc;

            const doseSel = document.getElementById('sel-dose');
            doseSel.innerHTML = '<option value="">-- Choisir --</option>';
            for(let d in p.prices) {
                let opt = document.createElement('option');
                opt.value = d; opt.innerText = d;
                doseSel.appendChild(opt);
            }

            document.getElementById('view-catalog').style.display = 'none';
            document.getElementById('view-detail').style.display = 'block';
            window.scrollTo(0,0);
        }

        function closeProduct() {
            document.getElementById('view-catalog').style.display = 'grid';
            document.getElementById('view-detail').style.display = 'none';
            document.getElementById('price-area').style.display = 'none';
        }

        function updateQty() {
            const dose = document.getElementById('sel-dose').value;
            const qtySel = document.getElementById('sel-qty');
            qtySel.innerHTML = '<option value="">-- Choisir --</option>';
            if(dose) {
                qtySel.disabled = false;
                const qtys = productsDB[currentId].prices[dose];
                for(let q in qtys) {
                    let opt = document.createElement('option');
                    opt.value = q; opt.innerText = q;
                    qtySel.appendChild(opt);
                }
            } else { qtySel.disabled = true; }
            document.getElementById('price-area').style.display = 'none';
        }

        function updatePrice() {
            const dose = document.getElementById('sel-dose').value;
            const qty = document.getElementById('sel-qty').value;
            if(dose && qty) {
                const price = productsDB[currentId].prices[dose][qty];
                document.getElementById('final-p').innerText = formatPrice(price);
                document.getElementById('price-area').style.display = 'block';
            }
        }

        renderCatalog();
    </script>
</body>
</html>
