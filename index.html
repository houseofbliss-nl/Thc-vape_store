<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store</title>
    <style>
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            background-color: #f4f7f6;
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        /* VUE CATALOGUE : Les produits côte à côte */
        #page-catalog {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            max-width: 800px;
            width: 100%;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: transform 0.2s;
        }
        .product-card:hover { transform: translateY(-5px); }

        .product-card img {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-radius: 8px;
        }

        .product-card h2 { font-size: 1.1rem; margin: 15px 0 5px; }
        .product-card .price-range { color: #666; font-size: 0.9rem; font-weight: bold; margin-bottom: 15px; }

        /* BOUTON NOIR CATALOGUE */
        .btn-select {
            background-color: #000;
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* VUE PRODUIT UNIQUE (Cachée au début) */
        #page-product-detail {
            display: none;
            background: white;
            max-width: 500px;
            width: 100%;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        #detail-image {
            width: 100%;
            height: 300px;
            object-fit: contain;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .back-btn {
            display: block;
            text-align: left;
            color: #3498db;
            text-decoration: none;
            font-size: 0.9rem;
            margin-bottom: 15px;
            cursor: pointer;
        }

        .description-box {
            text-align: left;
            font-size: 0.85rem;
            color: #555;
            background: #f8f8f8;
            padding: 15px;
            border-radius: 8px;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .options-section { text-align: left; margin-bottom: 20px; }
        .options-section label { display: block; font-weight: bold; font-size: 0.8rem; margin-top: 10px; }
        
        select {
            width: 100%;
            padding: 12px;
            margin-top: 5px;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .price-final {
            font-size: 1.8rem;
            color: #27ae60;
            font-weight: bold;
            margin: 20px 0;
        }

        .btn-cart {
            background-color: #27ae60;
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
        }

        .hidden { display: none; }

        @media (max-width: 500px) {
            #page-catalog { grid-template-columns: 1fr 1fr; gap: 10px; }
            .product-card img { height: 140px; }
        }
    </style>
</head>
<body>

    <div id="page-catalog">
        <div class="product-card" onclick="openProduct('tramadol')">
            <img src="https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/6008185598566842990_121_kzeeym" alt="Tramadol">
            <h2>Tramadol</h2>
            <p class="price-range">100€ - 10,080€</p>
            <button class="btn-select">Sélectionnez les options</button>
        </div>

        <div class="product-card" onclick="openProduct('xanax')">
            <img src="https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5897686531106260347_121_r01qi4" alt="Xanax">
            <h2>XANAX / FARMAPRAM</h2>
            <p class="price-range">100€ - 2,000€</p>
            <button class="btn-select">Sélectionnez les options</button>
        </div>
    </div>

    <div id="page-product-detail">
        <span class="back-btn" onclick="showCatalog()">← Retour au catalogue</span>
        
        <img id="detail-image" src="" alt="Produit">
        <h1 id="detail-title">Nom du produit</h1>
        
        <div class="description-box" id="detail-description">
            </div>

        <div class="options-section">
            <label>Dosage :</label>
            <select id="select-dosage" onchange="updateQuantities()">
                </select>

            <label>Quantité :</label>
            <select id="select-quantity" disabled onchange="updatePrice()">
                <option value="">-- Sélectionnez le dosage --</option>
            </select>
        </div>

        <div id="price-section" class="hidden">
            <div class="price-final"><span id="display-price">0</span>€</div>
            <button class="btn-cart">AJOUTER AU PANIER</button>
        </div>
    </div>

    <script>
        const products = {
            tramadol: {
                title: "Tramadol",
                image: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/6008185598566842990_121_kzeeym",
                description: "Le tramadol offre une solution fiable aux personnes recherchant le confort et une meilleure qualité de vie. Son principe actif est un analgésique central qui se fixe aux récepteurs opioïdes du cerveau. Il inhibe également la recapture de la sérotonine et de la noradrénaline ; deux neurotransmetteurs impliqués dans la transmission de la douleur.",
                data: {
                    "50mg": { "20": 100, "60": 200, "200": 500, "1000": 3200 },
                    "100mg": { "20": 120, "60": 250, "200": 750, "1000": 5200 },
                    "200mg": { "20": 155, "60": 310, "200": 890, "1000": 8000 },
                    "500mg": { "20": 170, "60": 359, "200": 1050, "1000": 10080 }
                }
            },
            xanax: {
                title: "XANAX / FARMAPRAM / ALPRAZOLAM",
                image: "https://res.cloudinary.com/dar9eevt3/image/upload/w_800,h_800,c_pad,b_white,f_auto,q_auto/v1/-5897686531106260347_121_r01qi4",
                description: "Xanax appartient à la classe des benzodiazépines, qui agissent en potentialisant les effets d’une substance chimique du cerveau appelée la GABA. Cette substance contribue à apaiser le cerveau et le système nerveux, induisant un effet calmant.",
                data: {
                    "1mg": { "90": 100, "300": 250, "900": 800, "1500": 1200 },
                    "2mg": { "90": 200, "300": 500, "900": 1500, "1500": 2000 }
                }
            }
        };

        let currentProduct = null;

        function openProduct(id) {
            currentProduct = id;
            const p = products[id];

            // Remplir les infos
            document.getElementById('detail-title').innerText = p.title;
            document.getElementById('detail-image').src = p.image;
            document.getElementById('detail-description').innerText = p.description;

            // Remplir les dosages
            const doseSelect = document.getElementById('select-dosage');
            doseSelect.innerHTML = '<option value="">-- Choisir --</option>';
            for (let dose in p.data) {
                let opt = document.createElement('option');
                opt.value = dose;
                opt.innerText = dose;
                doseSelect.appendChild(opt);
            }

            // Réinitialiser les prix et quantités
            document.getElementById('select-quantity').disabled = true;
            document.getElementById('price-section').classList.add('hidden');

            // Switcher de page
            document.getElementById('page-catalog').style.display = 'none';
            document.getElementById('page-product-detail').style.display = 'block';
            window.scrollTo(0,0);
        }

        function showCatalog() {
            document.getElementById('page-catalog').style.display = 'grid';
            document.getElementById('page-product-detail').style.display = 'none';
        }

        function updateQuantities() {
            const dose = document.getElementById('select-dosage').value;
            const qtySelect = document.getElementById('select-quantity');
            qtySelect.innerHTML = '<option value="">-- Choisir --</option>';
            
            if (dose) {
                qtySelect.disabled = false;
                const options = products[currentProduct].data[dose];
                for (let qty in options) {
                    let opt = document.createElement('option');
                    opt.value = qty;
                    opt.innerText = qty + (currentProduct === 'xanax' ? ' bars' : ' pills');
                    qtySelect.appendChild(opt);
                }
            } else {
                qtySelect.disabled = true;
            }
            document.getElementById('price-section').classList.add('hidden');
        }

        function updatePrice() {
            const dose = document.getElementById('select-dosage').value;
            const qty = document.getElementById('select-quantity').value;
            if (dose && qty) {
                const price = products[currentProduct].data[dose][qty];
                document.getElementById('display-price').innerText = price.toLocaleString();
                document.getElementById('price-section').classList.remove('hidden');
            }
        }
    </script>
</body>
</html>
